_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[33],{LB2e:function(e,t,r){"use strict";r.r(t);var n=r("o0o1"),i=r.n(n),a=r("HaE+"),o=r("ODXe"),s=r("VX74"),u=r("OJ/v"),l=r("Tq9W"),c=r("yp05"),m=r("nOHt"),d=r("q1tI"),p=r.n(d),b=r("NKCw"),f=p.a.createElement,v=function(e){var t=e.items,r=e.title,n=Object(b.d)({mode:"onChange"}),d=Object(m.useRouter)(),p=Object(s.useQuery)(c.a.getSimple),v=p.data,w=p.loading,g=Object(s.useMutation)(c.b.create),h=Object(o.a)(g,1)[0],j=function(){var e=Object(a.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.permisos=t.permisos.map((function(e){return e.id})),e.next=3,h({variables:{input:t}});case 3:d.push("/auth/roles");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return f(l.a,{title:"IPCA | Roles de Usuario",loading:w},f(b.b,n,f(u.a,{items:t,title:r,loading:w,permisosDisponibles:null===v||void 0===v?void 0:v.permisos,onSubmit:j})))};v.getInitialProps=function(){return{items:[{title:"Roles de Usuario",href:"/auth/roles"},{title:"Agregar Rol",active:!0}],title:"Agregar Rol"}},t.default=v},"OJ/v":function(e,t,r){"use strict";var n=r("6I9Z"),i=r("+Rjy"),a=r("q1tI"),o=r.n(a),s=r("QojX"),u=r("cWnB"),l=r("NKCw"),c=r("jdqL"),m=r("Fjxe"),d=o.a.createElement;t.a=function(e){var t=e.title,r=e.items,a=(e.loading,e.onSubmit),o=e.permisosDisponibles,p=void 0===o?[]:o,b=Object(l.e)(),f=b.register,v=b.handleSubmit,w=b.errors;return d("main",{className:"container-fluid"},d(n.a,{title:t,items:r}),d("div",{className:"row justify-content-center"},d("div",{className:"col-md-8 jumbotron rounded"},d("form",{onSubmit:v(a)},d(m.a,{label:"Nombre: ",name:"nombre",rules:{required:"Obligatorio"}}),d(c.a,{label:"Permisos:",name:"permisos",sourceHeader:"Permisos Disponibles",targetHeader:"Permisos de este Rol",source:p,itemTemplate:function(e){return e.nombre},rules:{validate:function(e){return 0!==e.length||"Debe seleccionar al menos un permiso"}}}),d(s.a.Group,null,d(s.a.Label,null,"Descripcion:"),d(s.a.Control,{as:"textarea",rows:4,name:"descripcion",isInvalid:!!w.descripcion,ref:f})),d(s.a.Row,{className:" justify-content-between"},d("div",{className:"col-md-5 mt-3 my-1"},d(i.a,{href:"/auth/permisos",variant:"outline-danger"})),d("div",{className:"col-md-5 mt-3 my-1"},d(u.a,{variant:"outline-primary",block:!0,type:"submit"},"Guardar")))))))}},oUxZ:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/roles/create",function(){return r("LB2e")}])}},[["oUxZ",1,2,3,0,4,5,6,7,9,14]]]);