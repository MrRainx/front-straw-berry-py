_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[35],{Duty:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/roles/update",function(){return i("pVxG")}])},"OJ/v":function(e,t,i){"use strict";var n=i("6I9Z"),r=i("+Rjy"),a=i("q1tI"),o=i.n(a),s=i("QojX"),u=i("cWnB"),l=i("NKCw"),c=i("jdqL"),d=i("Fjxe"),m=o.a.createElement;t.a=function(e){var t=e.title,i=e.items,a=(e.loading,e.onSubmit),o=e.permisosDisponibles,p=void 0===o?[]:o,b=Object(l.e)(),f=b.register,v=b.handleSubmit,w=b.errors;return m("main",{className:"container-fluid"},m(n.a,{title:t,items:i}),m("div",{className:"row justify-content-center"},m("div",{className:"col-md-8 jumbotron rounded"},m("form",{onSubmit:v(a)},m(d.a,{label:"Nombre: ",name:"nombre",rules:{required:"Obligatorio"}}),m(c.a,{label:"Permisos:",name:"permisos",sourceHeader:"Permisos Disponibles",targetHeader:"Permisos de este Rol",source:p,itemTemplate:function(e){return e.nombre},rules:{validate:function(e){return 0!==e.length||"Debe seleccionar al menos un permiso"}}}),m(s.a.Group,null,m(s.a.Label,null,"Descripcion:"),m(s.a.Control,{as:"textarea",rows:4,name:"descripcion",isInvalid:!!w.descripcion,ref:f})),m(s.a.Row,{className:" justify-content-between"},m("div",{className:"col-md-5 mt-3 my-1"},m(r.a,{href:"/auth/permisos",variant:"outline-danger"})),m("div",{className:"col-md-5 mt-3 my-1"},m(u.a,{variant:"outline-primary",block:!0,type:"submit"},"Guardar")))))))}},pVxG:function(e,t,i){"use strict";i.r(t);var n=i("o0o1"),r=i.n(n),a=i("HaE+"),o=i("ODXe"),s=i("VX74"),u=i("OJ/v"),l=i("Tq9W"),c=i("yp05"),d=i("nOHt"),m=i("q1tI"),p=i.n(m),b=i("NKCw"),f=p.a.createElement,v=function(e){var t,i=e.items,n=e.title,m=e.id,p=Object(b.d)({mode:"onChange"}),v=Object(d.useRouter)(),w=Object(s.useQuery)(c.b.getByIdToUpdate,{variables:{id:m},onCompleted:function(e){var t=e.grupo;p.reset(t)}}),g=w.data,h=w.loading,j=Object(s.useMutation)(c.b.update),y=Object(o.a)(j,1)[0],N=function(){var e=Object(a.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.permisos=t.permisos.map((function(e){return e.id})),e.next=3,y({variables:{id:m,input:t}});case 3:v.push("/auth/roles");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return f(l.a,{title:"IPCA | Roles de Usuario",loading:h},f(b.b,p,f(u.a,{items:i,title:n,loading:h,permisosDisponibles:null===g||void 0===g||null===(t=g.grupo)||void 0===t?void 0:t.permisosDisponibles,onSubmit:N})))};v.getInitialProps=function(e){return{items:[{title:"Roles de Usuario",href:"/auth/roles"},{title:"Editar Rol",active:!0}],title:"Editar Rol",id:e.query.id}},t.default=v}},[["Duty",1,2,3,0,4,5,6,7,9,14]]]);