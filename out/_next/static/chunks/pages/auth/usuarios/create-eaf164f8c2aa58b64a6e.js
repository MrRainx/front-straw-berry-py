_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[37],{"/zzD":function(e,a,n){"use strict";n.r(a);var r=n("o0o1"),t=n.n(r),o=n("HaE+"),s=n("ODXe"),i=n("VX74"),u=n("FdGL"),l=n("Tq9W"),c=n("yp05"),m=n("q1tI"),p=n.n(m),d=n("NKCw"),b=n("nOHt"),v=p.a.createElement,f=function(e){var a=e.items,n=e.title,r=Object(d.d)({mode:"onChange"}),m=Object(b.useRouter)(),p=Object(i.useQuery)(c.c.getParametrosForm),f=p.data,h=p.loading,g=Object(i.useMutation)(c.c.create),w=Object(s.a)(g,1)[0],j=function(){var e=Object(o.a)(t.a.mark((function e(a){var n;return t.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.persona&&(a.persona=null===a||void 0===a||null===(n=a.persona)||void 0===n?void 0:n.id),a.permisos=a.permisos.map((function(e){return e.id})),a.grupos=a.grupos.map((function(e){return e.id})),e.next=5,w({variables:{input:a}});case 5:m.push("/auth/usuarios");case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return v(l.a,{title:"IPCA | Usuarios",loading:h},v(d.b,r,v(u.a,{title:n,items:a,permisosDisponibles:null===f||void 0===f?void 0:f.permisos,rolesDisponibles:null===f||void 0===f?void 0:f.grupos,personasDisponibles:null===f||void 0===f?void 0:f.personas,onSubmit:j})))};f.getInitialProps=function(){return{items:[{title:"Usuarios",href:"/auth/usuarios"},{title:"Agregar Usuario",active:!0}],title:"Agregar Usuario"}},a.default=f},FdGL:function(e,a,n){"use strict";var r=n("6I9Z"),t=n("+Rjy"),o=n("kizA"),s=n("jdqL"),i=n("Fjxe"),u=n("q1tI"),l=n.n(u),c=n("QojX"),m=n("cWnB"),p=n("NKCw"),d=l.a.createElement;a.a=function(e){var a=e.title,n=e.items,u=e.permisosDisponibles,l=void 0===u?[]:u,b=e.rolesDisponibles,v=void 0===b?[]:b,f=e.personasDisponibles,h=void 0===f?[]:f,g=e.onSubmit,w=Object(p.e)().handleSubmit;return d("main",{className:"container-fluid"},d(r.a,{title:a,items:n}),d("div",{className:"row justify-content-center"},d("div",{className:"col-md-8 jumbotron rounded"},d("form",{onSubmit:w(g)},d(i.a,{name:"username",label:"Nombre de usuario:",rules:{required:"Este campo es obligatorio"}}),d(o.a,{name:"persona",label:"Persona",placeholder:"Seleccione una persona",optionLabel:"str",dataKey:"str",showClear:!0,options:h,filter:!0}),d(s.a,{label:"Roles:",name:"grupos",sourceHeader:"Roles Disponibles",targetHeader:"Roles de este Usuario",source:v,itemTemplate:function(e){return e.nombre},rules:{validate:function(e){return 0!==e.length||"Debe seleccionar al menos un rol para este usuario"}}}),d(s.a,{label:"Permisos:",name:"permisos",sourceHeader:"Permisos Disponibles",targetHeader:"Permisos de este Rol",source:l,itemTemplate:function(e){return e.nombre},rules:{validate:function(e){return 0!==e.length||"Debe seleccionar al menos un permiso"}}}),d(c.a.Row,{className:" justify-content-between"},d("div",{className:"col-md-5 mt-3 my-1"},d(t.a,{href:"/auth/usuarios",variant:"outline-danger"})),d("div",{className:"col-md-5 mt-3 my-1"},d(m.a,{variant:"outline-primary",block:!0,type:"submit"},"Guardar")))))))}},kizA:function(e,a,n){"use strict";var r=n("wx14"),t=n("rePB"),o=n("Ff2n"),s=n("TSYQ"),i=n.n(s),u=n("sv1p"),l=n("q1tI"),c=n.n(l),m=n("QojX"),p=n("NKCw"),d=n("PK9Q"),b=c.a.createElement;a.a=function(e){var a=e.label,n=e.rules,s=e.name,l=e.onChange,c=e.placeholder,v=e.className,f=Object(o.a)(e,["label","rules","name","onChange","placeholder","className"]),h=Object(p.e)(),g=h.control,w=h.errors;return b(m.a.Group,null,b(m.a.Label,null,a),b(p.a,{name:s,control:g,rules:n,defaultValue:null,render:function(e){var a,n=e.onChange,o=e.value;return b(u.Dropdown,Object(r.a)({value:o,onChange:function(e){var a=e.value;n(a),l&&l(a)},placeholder:c||"Seleccione",className:i()((a={},Object(t.a)(a,v,!0),Object(t.a)(a,"w-100",!0),Object(t.a)(a,"p-invalid",!!w[s]),a))},f))}}),b(d.a,{name:s}))}},pNt2:function(e,a,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/usuarios/create",function(){return n("/zzD")}])},sv1p:function(e,a,n){"use strict";e.exports=n("YuXx")}},[["pNt2",1,2,3,0,4,5,6,7,8,9,14]]]);